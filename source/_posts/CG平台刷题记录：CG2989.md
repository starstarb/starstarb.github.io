---
title: CG平台刷题记录：CG2989
copyright: true
tags: 算法刷题
categories: 算法刷题
abbrlink: e557d918
date: 2019-10-28 14:16:27
---
星期六
<!--more-->

2989. 星期六

【问题描述】

今天是2018年12月8日，星期六，重庆市第九届大学生程序设计大赛在重庆交通大学双福校区顺利开幕！

给定两个日期，保证日期合法，计算两个日期之间有多少个星期六。

【输入形式】

第一行一个整数T，1<=T<=3000。

接下来T组数据，每组数据两行，每行包含一个日期，格式为xxxx-xx-xx（年-月-日），保证第一个日期在第二个日期之前，且两个日期的年份在1900年到2100年之间。

【输出形式】

对于每组数据，输出一行表示答案。

【样例输入】

2

2018-12-01

2018-12-08

2017-12-01

2018-12-01


【样例输出】

2

53
```
#include<iostream>
#include<string>
#include<algorithm>
using namespace std;
const long a[11]={31,59,90,120,151,181,212,243,273,304,334};//平年的从一月起到当前月份的总天数 
const long b[11]={31,60,91,121,152,182,213,244,274,305,335};//闰年的从一月起到当前月份的总天数
//是否闰年
int IsLeapYear(int year)  
{ 
	return (year%4==0) && (year%100!=0||year%400==0); 
} 

//计算当前公元到日期的总天数
long allday(int year,int month,int day){
	if(IsLeapYear(year)){
		if(month==1) return (year-1)*365+(year-1)/4-(year-1)/100
		+(year-1)/400+day;
		else return (year-1)*365+(year-1)/4-(year-1)/100
		+(year-1)/400+b[month-2]+day;
	}else{
		if(month==1) return (year-1)*365+(year-1)/4-(year-1)/100
		+(year-1)/400+day;
		else return (year-1)*365+(year-1)/4-(year-1)/100
		+(year-1)/400+a[month-2]+day;
	}
} 
//两个日期的天数差 
 long DateDiff2(int year1,int month1,int day1,int year2,int month2,int day2){
 	return labs(allday(year1,month1,day1)-allday(year2,month2,day2));
 }
 //比较函数2 
 int Compare2(int year1,int month1,int day1,int year2,int month2,int day2)
{
	if(year1 < year2)
		return 1;
	if(year1 <= year2 && month1 < month2)
		return 1;
	if(year1 <= year2 && month1 <= month2 && day1 < day2)
		return 1;
 
	return 0;
} 

int main()
{
	ios::sync_with_stdio(false);
	int  T;
	cin>>T;
	for(int q=0;q<T;q++){
		string a,b;
		int xingqi1=0; //定义前面那个日期的星期数 
		cin>>a>>b;
		int year1,year2,year3,month1,month2,month3,day1,day2,day3;
		year1=atoi((a.substr(0,4)).c_str());
		month1=atoi((a.substr(5,2)).c_str());
		day1=atoi((a.substr(8,2)).c_str());
		year2=atoi((b.substr(0,4)).c_str());
		month2=atoi((b.substr(5,2)).c_str());
		day2=atoi((b.substr(8,2)).c_str());
		//cout<<1<<endl; continue;
		year3=2018;month3=12;day3=8;
		long delta13 = DateDiff2(year1,month1,day1,year3,month3,day3);
		long delta12 = DateDiff2(year1,month1,day1,year2,month2,day2);
		//接下来计算前面那个日期的星期数 
		if(Compare2(year1,month1,day1,year3,month3,day3)){ 
			xingqi1=6-delta13%7;
			if(xingqi1==0) xingqi1=7;
		}else{
			xingqi1=6+delta13%7;
			if(xingqi1>7) xingqi1-=7;
		} 
		//最后计算并输出总的星期六个数 
		int deltaxingqi=delta12%7, flag=0;
		for(int i=xingqi1; i<=xingqi1+deltaxingqi; i++){
			if(i%7==6) {cout<<delta12/7+1<<endl;flag=1;break;}
		} if(flag==0) cout<<delta12/7<<endl;		  
	}
	return 0;
}
```